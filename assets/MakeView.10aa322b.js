import{e as c}from"./emitter.2ccbb68b.js";import{H as g}from"./HeadTitle.064ade42.js";import{S as F}from"./ServiceTemp.a8155e43.js";import{S as k}from"./SweetAlert.f5e4cf8d.js";import{_ as C,r as p,o as h,a as _,d as b,b as t,n as u,y as f,F as w,u as S,z as a,A as d,B as r,x as T}from"./index.a95f69e0.js";import"./people01.1d41a424.js";const V="/lefty-print/assets/phone_icon.241572ec.svg",E="/lefty-print/assets/email_icon.9ce29ff3.svg";const U={data(){return{VUE_APP:"https://vue3-course-api.hexschool.io/v2/api/groen",isFront:!0,vueCanvas:null,dataURL:{front:"",back:""},colorList:["#46BAC7","#F9A44A","#F37E5F","#48A5D9","#AF89DF"],colorItem:"#46BAC7",frontForm:{company:"\u96F2\u7AEF\u5370\u5237",name:"\u6797\u5C0F\u5E0C",e_name:"Sharon",phone:"0912345678",email:"abc78463@gmail.com"},backForm:{company:"Cloud Print",name:"SHIAU-SHI, Lin",e_name:"Sharon",phone:"0912345678",email:"abc78463@gmail.com"}}},components:{HeadTitle:g,ServiceTemp:F,SweetAlert:k},watch:{colorItem:{handler(n,l){this.createCanvas("front"),this.createCanvas("back")}},frontForm:{handler(n,l){this.createCanvas("front")},deep:!0},backForm:{handler(n,l){this.createCanvas("back")},deep:!0}},methods:{createCanvas(n){const l=this.$refs[n];l.width=590,l.height=360;const e=l.getContext("2d");if(e.fillStyle="#fff",e.fillRect(0,0,590,360),e.save(),e.fillStyle=this.colorItem,e.fillRect(0,315,590,45),e.fillRect(0,308,590,2),e.save(),e.restore(),e.font="20px sans-serif",e.fillStyle=this.colorItem,e.fillText(this[`${n}Form`].company,40,50),e.save(),n==="front"){e.font="36px sans-serif",e.fillStyle="#323232",e.fillText(this[`${n}Form`].name,120,150);const o=e.measureText(this[`${n}Form`].name).width;e.save(),e.font="20px sans-serif",e.fillStyle="#323232",e.fillText(this[`${n}Form`].e_name,120+o+20,150),e.save(),e.font="14px sans-serif",e.fillStyle=this.colorItem,e.fillText("\u624B\u6A5F |",120,223),e.fillStyle="#323232",e.fillText(this[`${n}Form`].phone,175,223),e.save(),e.font="14px sans-serif",e.fillStyle=this.colorItem,e.fillText("\u4FE1\u7BB1 |",120,253),e.fillStyle="#323232",e.fillText(this[`${n}Form`].email,175,253),e.save()}else{e.font="28px sans-serif",e.fillStyle="#323232",e.fillText(this[`${n}Form`].name,120,150);const o=e.measureText(this[`${n}Form`].name).width;e.font="20px sans-serif",e.fillStyle="#323232",e.fillText(this[`${n}Form`].e_name,120+o+20,150),e.save(),e.font="14px sans-serif",e.fillStyle=this.colorItem,e.fillText("Mobile |",120,223),e.save(),e.font="14px sans-serif",e.fillStyle="#323232",e.fillText(this[`${n}Form`].phone,193,223),e.save(),e.font="14px sans-serif",e.fillStyle=this.colorItem,e.fillText("Email   |",120,253),e.fillStyle="#323232",e.fillText(this[`${n}Form`].email,191,253),e.save()}e.restore(),this.dataURL[n]=l.toDataURL("image/jpeg",.5),this.vueCanvas=e},dataURItoBlob(n){let l;n.split(",")[0].indexOf("base64")>=0?l=atob(n.split(",")[1]):l=unescape(n.split(",")[1]);const e=n.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(l.length);for(let o=0;o<l.length;o++)i[o]=l.charCodeAt(o);return new Blob([i],{type:e})},addToCart(n){this.isLoading=!0;let l=`${this.VUE_APP}/cart`;this.$http.get(l).then(e=>{this.carts=e.data.data.carts;let i="post",o=this.carts.find(m=>m.product_id===n);o===void 0?o={product_id:n,qty:1,files:[this.dataURL]}:(l=`${l}/${o.id}`,i="put",o.files.push(this.dataURL),o={product_id:o.product_id,qty:1,files:o.files}),this.$http[i](l,{data:o}).then(m=>{this.isLoading=!1,c.emit("cartCount"),c.emit("sweetalert",`${m.data.message}, success`)}).catch(m=>{c.emit("sweetalert",`${m.response.data.message}, error`)})}).catch(e=>{alert(e.response.data.message)})}},mounted(){c.emit("cartCount"),this.createCanvas("front"),this.createCanvas("back"),setTimeout(()=>{this.createCanvas("front"),this.createCanvas("back")},2e3)}},A={class:"container"},I={class:"row justify-content-center"},L={class:"col-12"},N={class:"overflow-hidden"},P={class:"p-sm-6 p-4 bg-gray100"},B={class:"mb-4"},R={class:"row align-items-start"},X={class:"col-xl-8 col-12"},H={class:"d-flex flex-lg-row flex-column align-items-start"},M={class:"order-lg-1 order-2 mt-lg-2 me-lg-3 mb-lg-0 mb-3 color-list d-flex flex-lg-column flex-row justify-content-center align-items-center align-self-start"},D=["onClick"],j={class:"order-lg-2 order-1 me-4 mb-xl-0 mb-3 ratio ratio-5x3"},z={ref:"businessCard",class:"canvas-wrap"},q={ref:"front",class:"cover-fit shadow-sm",width:"100%",height:"100%"},O={ref:"back",class:"cover-fit shadow-sm",width:"100%",height:"100%"},W={class:"d-none"},G={ref:"phone_icon",src:V,alt:""},J={ref:"email_icon",src:E,alt:""},K={class:"col-xl-4 col-12"},Q={class:"mb-2 form-floating"},Y=t("label",{for:"frontCompany",class:"form-label small text-primary"},"\u516C\u53F8\u540D\u7A31",-1),Z={class:"mb-2 form-floating"},$=t("label",{for:"frontName",class:"form-label small text-primary"},"\u540D\u5B57",-1),ee={class:"mb-2 form-floating"},te=t("label",{for:"frontEName",class:"form-label small text-primary"},"\u82F1\u6587\u540D\u5B57",-1),oe={class:"mb-2 form-floating"},le=t("label",{for:"frontPhone",class:"form-label small text-primary"},"\u96FB\u8A71",-1),se={class:"mb-2 form-floating"},ne=t("label",{for:"frontEmail",class:"form-label small text-primary"},"Email",-1),ae={class:"mb-2 form-floating"},re=t("label",{for:"backCompany",class:"form-label small text-primary"},"\u516C\u53F8\u540D\u7A31",-1),ie={class:"mb-2 form-floating"},me=t("label",{for:"backName",class:"form-label small text-primary"},"\u540D\u5B57",-1),ce={class:"mb-2 form-floating"},fe=t("label",{for:"backEName",class:"form-label small text-primary"},"\u82F1\u6587\u540D\u5B57",-1),de={class:"mb-2 form-floating"},pe=t("label",{for:"backPhone",class:"form-label small text-primary"},"Mobile",-1),he={class:"mb-2 form-floating"},_e=t("label",{for:"backEmail",class:"form-label small text-primary"},"Email",-1),be={class:"d-flex flex-md-row flex-column align-items-md-center bg-gray200 px-sm-5 px-4 py-3"},ue=t("span",{class:"text-dark mb-md-0 mb-3"},"90x54mm \uFF0F \u96D9\u9762\u4E00\u7D1A\u5361 \uFF0F 300 \u5F35",-1),ve={class:"mt-8 py-7 bg-gray200"};function xe(n,l,e,i,o,m){const v=p("SweetAlert"),x=p("HeadTitle"),y=p("ServiceTemp");return h(),_("div",null,[b(v),b(x,{class:"mb-7",dialog:"Try It!","primary-text":"\u540D\u7247","dark-text":"\u5FEB\u901F\u88FD\u4F5C"}),t("div",A,[t("div",I,[t("div",L,[t("div",N,[t("div",P,[t("div",B,[t("a",{href:"#",class:u(["btn btn-sm rounded-pill me-2",[o.isFront?"btn-dark":"btn-outline-dark"]]),onClick:l[0]||(l[0]=f(s=>o.isFront=!0,["prevent"]))},"\u6B63\u9762",2),t("a",{href:"#",class:u(["btn btn-sm rounded-pill",[o.isFront?"btn-outline-dark":"btn-dark"]]),onClick:l[1]||(l[1]=f(s=>o.isFront=!1,["prevent"]))},"\u80CC\u9762",2)]),t("div",R,[t("div",X,[t("div",H,[t("div",M,[(h(!0),_(w,null,S(o.colorList,s=>(h(),_("a",{key:s,href:"#",class:u(["color-item m-1 border shadow-sm",{active:o.colorItem===s}]),style:T({backgroundColor:s}),onClick:f(ye=>o.colorItem=s,["prevent"])},null,14,D))),128))]),t("div",j,[t("div",z,[a(t("canvas",q,null,512),[[d,o.isFront]]),a(t("canvas",O,null,512),[[d,!o.isFront]])],512)]),t("div",W,[t("img",G,null,512),t("img",J,null,512)])])]),t("div",K,[t("form",null,[a(t("div",null,[t("div",Q,[a(t("input",{type:"text",class:"form-control",id:"frontCompany","onUpdate:modelValue":l[2]||(l[2]=s=>o.frontForm.company=s),placeholder:"\u8F38\u5165\u516C\u53F8\u540D\u7A31"},null,512),[[r,o.frontForm.company]]),Y]),t("div",Z,[a(t("input",{type:"text",class:"form-control",id:"frontName","onUpdate:modelValue":l[3]||(l[3]=s=>o.frontForm.name=s),placeholder:"\u8F38\u5165\u540D\u5B57"},null,512),[[r,o.frontForm.name]]),$]),t("div",ee,[a(t("input",{type:"text",class:"form-control",id:"frontEName","onUpdate:modelValue":l[4]||(l[4]=s=>o.frontForm.e_name=s),placeholder:"\u8F38\u5165\u82F1\u6587\u540D\u5B57"},null,512),[[r,o.frontForm.e_name]]),te]),t("div",oe,[a(t("input",{type:"tel",class:"form-control",id:"frontPhone","onUpdate:modelValue":l[5]||(l[5]=s=>o.frontForm.phone=s),placeholder:"\u8F38\u5165\u96FB\u8A71"},null,512),[[r,o.frontForm.phone]]),le]),t("div",se,[a(t("input",{type:"email",class:"form-control",id:"frontEmail","onUpdate:modelValue":l[6]||(l[6]=s=>o.frontForm.email=s),placeholder:"\u8F38\u5165 Email"},null,512),[[r,o.frontForm.email]]),ne])],512),[[d,o.isFront]]),a(t("div",null,[t("div",ae,[a(t("input",{type:"text",class:"form-control",id:"backCompany","onUpdate:modelValue":l[7]||(l[7]=s=>o.backForm.company=s),placeholder:"\u8F38\u5165\u516C\u53F8\u540D\u7A31"},null,512),[[r,o.backForm.company]]),re]),t("div",ie,[a(t("input",{type:"text",class:"form-control",id:"backName","onUpdate:modelValue":l[8]||(l[8]=s=>o.backForm.name=s),placeholder:"\u8F38\u5165\u540D\u5B57"},null,512),[[r,o.backForm.name]]),me]),t("div",ce,[a(t("input",{type:"text",class:"form-control",id:"backEName","onUpdate:modelValue":l[9]||(l[9]=s=>o.backForm.e_name=s),placeholder:"\u8F38\u5165\u82F1\u6587\u540D\u5B57"},null,512),[[r,o.backForm.e_name]]),fe]),t("div",de,[a(t("input",{type:"tel",class:"form-control",id:"backPhone","onUpdate:modelValue":l[10]||(l[10]=s=>o.backForm.phone=s),placeholder:"\u8F38\u5165\u96FB\u8A71"},null,512),[[r,o.backForm.phone]]),pe]),t("div",he,[a(t("input",{type:"email",class:"form-control",id:"backEmail","onUpdate:modelValue":l[11]||(l[11]=s=>o.backForm.email=s),placeholder:"\u8F38\u5165 Email"},null,512),[[r,o.backForm.email]]),_e])],512),[[d,!o.isFront]])])])])]),t("div",be,[ue,t("a",{href:"#",class:"btn btn-accent ms-auto",onClick:l[12]||(l[12]=f(s=>m.addToCart("-NCAtlm5RkX8T74O5ILR"),["prevent"]))},"\u52A0\u5165\u8CFC\u7269\u8ECA")])])])])]),t("div",ve,[b(y)])])}const Te=C(U,[["render",xe]]);export{Te as default};
